"'Ratings Screen' As screen":
    Fill: =ColorValue(varThemeColors.background)
    OnVisible: =Set(varMissingQuestions, 1);

    conContent_RatingsScreen As groupContainer.verticalAutoLayoutContainer:
        Fill: =ColorValue(varThemeColors.background)
        Height: =Parent.Height - compHeader_RatingsScreen.Height
        LayoutAlignItems: =LayoutAlignItems.Stretch
        LayoutDirection: =LayoutDirection.Vertical
        LayoutMode: =LayoutMode.Auto
        LayoutOverflowY: =LayoutOverflow.Scroll
        PaddingBottom: =40
        PaddingLeft: |-
            =Switch(App.ActiveScreen.Size,
            5, (Parent.Width - 1450)/2,
            4, 75,
            3, 50,
            2, 25,
            1, 10
            )
        PaddingRight: =Self.PaddingLeft
        Width: =Parent.Width
        Y: =compHeader_RatingsScreen.Height + compHeader_RatingsScreen.Y
        ZIndex: =1

        conPrompt_RatingsScreen As groupContainer.verticalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            FillPortions: =0
            Height: =lblPromptTitle_RatingsScreen.Height
            LayoutDirection: =LayoutDirection.Vertical
            LayoutMinHeight: =112
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            ZIndex: =1

            lblPromptTitle_RatingsScreen As label:
                AlignInContainer: =AlignInContainer.Center
                BorderColor: =RGBA(0, 0, 0, 0)
                BorderStyle: =BorderStyle.None
                BorderThickness: =2
                Color: =ColorValue(varThemeColors.text)
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                FocusedBorderColor: =ColorValue(varThemeColors.primary)
                FocusedBorderThickness: =4
                Font: =varThemeFont.H2.face
                FontWeight: =varThemeFont.H2.weightBold
                Height: =Self.Size*4
                Italic: =varThemeFont.H2.italic
                LayoutMinHeight: =70
                LayoutMinWidth: =560
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingTop: =0
                Role: =TextRole.Heading1
                Size: =varThemeFont.H1.size
                Text: |-
                    =// Define a variable named "Text" with the value "{value}"
                    With(
                        {Text: "Star Ratings"},
                        // Check if a localized text exists for "Text" in the user's preferred language
                        If(
                            // If the localized text is blank, return the default text
                            IsBlank(
                                LookUp(
                                    colUserLocalizedStrings,
                                    'English Value' = Text 
                                ).'Localized Value'
                            ),
                            Text,
                            // If a localized text is found, return that instead of the default text
                            LookUp(
                                colUserLocalizedStrings,
                                'English Value' = Text 
                            ).'Localized Value'
                        )
                    )
                Width: =Parent.Width - 80
                X: =40
                ZIndex: =1

        conMainContent_RatingsScreen As groupContainer.verticalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            Fill: =ColorValue(varThemeColors.backgroundFill)
            Height: =225
            LayoutDirection: =LayoutDirection.Vertical
            LayoutMinHeight: =112
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            ZIndex: =3

            conDetails_RatingsScreen As groupContainer.horizontalAutoLayoutContainer:
                FillPortions: =0
                Height: |-
                    =//165+
                    lblTitle_RatingsScreen.Height +lblSubtitle_RatingsScreen.Height+75
                    //Self.PaddingBottom+Self.PaddingTop
                LayoutMinHeight: =112
                LayoutMinWidth: =165
                LayoutMode: =LayoutMode.Auto
                PaddingBottom: =20
                PaddingLeft: =20
                PaddingTop: =35
                ZIndex: =1

                imgAwardCategory_RatingsScreen As image:
                    AccessibleLabel: =varSelectedCategory.Name
                    AlignInContainer: =AlignInContainer.Center
                    Height: =Self.Width
                    Image: =varSelectedCategory.'Recognition Active Image'
                    LayoutMinHeight: =320
                    LayoutMinWidth: =320
                    OnSelect: =
                    RadiusBottomLeft: =25
                    RadiusBottomRight: =25
                    RadiusTopLeft: =25
                    RadiusTopRight: =25
                    X: =20
                    Y: =18
                    ZIndex: =1

                conDetailsLabels_RatingsScreen As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.Center
                    Height: =225
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutJustifyContent: =LayoutJustifyContent.Center
                    LayoutMinHeight: =112
                    LayoutMinWidth: =100
                    LayoutMode: =LayoutMode.Auto
                    ZIndex: =2

                    lblTitle_RatingsScreen As label:
                        AlignInContainer: =AlignInContainer.Center
                        AutoHeight: =true
                        Color: =ColorValue(varThemeColors.text)
                        Font: =varThemeFont.H3.face
                        FontWeight: =varThemeFont.H2.weightBold
                        Height: =Self.Size * 1.8
                        Italic: =varThemeFont.H3.italic
                        LayoutMinHeight: =70
                        LayoutMinWidth: =560
                        OnSelect: =
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =varThemeFont.H3.size
                        Text: |-
                            =// Define a variable named "Text" with the value "{value}"
                            With(
                                {Text: varSelectedCategory.Name},
                                // Check if a localized text exists for "Text" in the user's preferred language
                                If(
                                    // If the localized text is blank, return the default text
                                    IsBlank(
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text 
                                        ).'Localized Value'
                                    ),
                                    Text,
                                    // If a localized text is found, return that instead of the default text
                                    LookUp(
                                        colUserLocalizedStrings,
                                        'English Value' = Text 
                                    ).'Localized Value'
                                )
                            )
                        VerticalAlign: =VerticalAlign.Top
                        Width: =Parent.Width *.9
                        X: =(Parent.Width/2) - (Self.Width/2)
                        Y: =imgAwardCategory_RatingsScreen.Y + imgAwardCategory_RatingsScreen.Height + 10
                        ZIndex: =1

                    lblSubtitle_RatingsScreen As label:
                        AlignInContainer: =AlignInContainer.Center
                        AutoHeight: =true
                        Color: =ColorValue(varThemeColors.text)
                        Font: =varThemeFont.B2.face
                        FontWeight: =FontWeight.Lighter
                        Height: =Self.Size * 1.8
                        Italic: =varThemeFont.B2.italic
                        LayoutMinHeight: =70
                        LayoutMinWidth: =560
                        OnSelect: =
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =varThemeFont.B2.size
                        Text: |-
                            =// Define a variable named "Text" with the value "{value}"
                            With({CurrentNomination:First(colNewSubmission)},
                            With(
                                {Text: "Rate their accomplishments and how they demonstrate this company value."},
                                // Check if a localized text exists for "Text" in the user's preferred language
                                If(
                                    // If the localized text is blank, return the default text
                                    IsBlank(
                                        LookUp(
                                            colUserLocalizedStrings,
                                            'English Value' = Text 
                                        ).'Localized Value'
                                    ),
                                    Text,
                                    // If a localized text is found, return that instead of the default text
                                    LookUp(
                                        colUserLocalizedStrings,
                                        'English Value' = Text 
                                    ).'Localized Value'
                                )
                            )
                            )
                        VerticalAlign: =VerticalAlign.Top
                        Width: =Parent.Width *.9
                        X: |-
                            =//(Parent.Width/2) - (Self.Width/2)
                            lblTitle_RatingsScreen.X
                        Y: =lblTitle_RatingsScreen.Y + lblTitle_RatingsScreen.Height + 4
                        ZIndex: =2

            shpDivider_RatingsScreen As rectangle:
                AccessibleLabel: |-
                    =With(
                        {
                            Text: "Separator"
                        },
                        If(
                            IsBlank(
                                LookUp(
                                    colUserLocalizedStrings,
                                    'English Value' = Text
                                ).'Localized Value'
                            ),
                            Text,
                            LookUp(
                                colUserLocalizedStrings,
                                'English Value' = Text
                            ).'Localized Value'
                        )
                    )
                AlignInContainer: =AlignInContainer.Center
                Fill: =ColorValue(varThemeColors.primaryGray&"80")
                Height: =1
                Width: =Parent.Width*.9
                ZIndex: =2

            "galQuestions_RatingsScreen As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver4.0'":
                AccessibleLabel: |-
                    =// Define a variable named "Text" with the value "{value}"
                    With(
                        {Text: "Award Questions"},
                        // Check if a localized text exists for "Text" in the user's preferred language
                        If(
                            // If the localized text is blank, return the default text
                            IsBlank(
                                LookUp(
                                    colUserLocalizedStrings,
                                    'English Value' = Text 
                                ).'Localized Value'
                            ),
                            Text,
                            // If a localized text is found, return that instead of the default text
                            LookUp(
                                colUserLocalizedStrings,
                                'English Value' = Text 
                            ).'Localized Value'
                        )
                    )
                AlignInContainer: =AlignInContainer.SetByContainer
                FocusedBorderColor: =ColorValue(varThemeColors.info)
                Height: =906
                Items: |-
                    =// Filter Gallery contents based on current scope, team or individual
                    If(Text(First(colNewSubmission).Scope) = "Team", Filter('Recognition Scope Questions', 'Recognition Scope Questions (Views)'.'Active Team Recognition Scope Questions'), Filter('Recognition Scope Questions', 'Recognition Scope Questions (Views)'.'Active Individual Recognition Scope Questions'))
                Layout: =Layout.Vertical
                LayoutMinHeight: =287
                LayoutMinWidth: =320
                TabIndex: =0
                TemplatePadding: =20
                TemplateSize: =178
                Width: =620
                Y: =1
                ZIndex: =3

                rtgRating_RatingsScreen As rating:
                    AccessibleLabel: |-
                        =ThisItem.Name & " " & With(
                            {Text: "Ratings"},
                            If(
                                IsBlank(
                                    LookUp(
                                        colUserLocalizedStrings,
                                        'English Value' = Text 
                                    ).'Localized Value'
                                ),
                                Text,
                                LookUp(
                                    colUserLocalizedStrings,
                                    'English Value' = Text 
                                ).'Localized Value'
                            )
                        )
                    BorderColor: =ColorValue(varThemeColors.primaryGray)
                    Default: =0
                    DisabledFill: =Self.Fill
                    DisplayMode: =DisplayMode.Edit
                    Fill: =ColorValue(varThemeColors.backgroundFill)
                    FocusedBorderColor: =ColorValue(varThemeColors.info)
                    FocusedBorderThickness: =4
                    Height: =74
                    HoverFill: =Self.Fill
                    Max: =5
                    OnSelect: =Set(varMissingQuestions,CountIf(galQuestions_RatingsScreen.AllItems, rtgRating_RatingsScreen.Value=0))
                    PressedFill: =Self.Fill
                    RatingFill: =ColorValue(varThemeColors.primary)
                    ShowValue: =true
                    Width: =Parent.Width*.7
                    X: =0
                    Y: =lblAwardDesc_RatingsScreen.Y+lblAwardDesc_RatingsScreen.Height
                    ZIndex: =1

                lblAwardDesc_RatingsScreen As label:
                    Color: =ColorValue(varThemeColors.text)
                    Font: =varThemeFont.B1.face
                    FontWeight: =varThemeFont.B1.weight
                    Height: |-
                        =//If there is not a description for this rating the height will be 0
                        If(!IsBlank(ThisItem.Description),60,0)
                        //If(!IsBlank(ThisItem.Description),80,0)
                    Italic: =varThemeFont.B1.italic
                    OnSelect: =Select(Parent)
                    Overflow: =Overflow.Scroll
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =varThemeFont.B1.size
                    Text: =If(!IsBlank(ThisItem.Description),ThisItem.Description)
                    Tooltip: =Self.Text
                    VerticalAlign: =VerticalAlign.Top
                    Width: =Parent.TemplateWidth
                    Y: =40
                    ZIndex: =2

                lblAwardName_RatingsScreen As label:
                    Color: =ColorValue(varThemeColors.text)
                    Font: =varThemeFont.B1.face
                    FontWeight: =varThemeFont.H3.weight
                    Height: =35
                    Italic: =varThemeFont.B1.italic
                    OnSelect: =Select(Parent)
                    Overflow: =Overflow.Scroll
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =varThemeFont.B1.size
                    Text: =ThisItem.Name
                    Tooltip: =Self.Text
                    VerticalAlign: =VerticalAlign.Top
                    Width: =Parent.TemplateWidth
                    ZIndex: =3

        conButton_RatingsScreen As groupContainer.horizontalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            Fill: =ColorValue(varThemeColors.backgroundFill)
            FillPortions: =0
            Height: =100
            LayoutGap: =10
            LayoutMinHeight: =112
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            PaddingLeft: =40
            PaddingTop: =20
            ZIndex: =4

            btnBack_RatingsScreen As button:
                BorderColor: =ColorValue(varThemeColors.primary)
                BorderThickness: =1
                Color: =ColorValue(varThemeColors.text)
                DisabledBorderColor: =ColorValue(varThemeColors.backgroundFillDisabled)
                DisabledColor: =ColorValue(varThemeColors.disabledText)
                DisabledFill: =ColorValue(varThemeColors.backgroundFillDisabled)
                Fill: =ColorValue(varThemeColors.backgroundFill)
                FocusedBorderColor: =ColorValue(varThemeColors.info)
                Font: =varThemeFont.CTA.face
                FontWeight: =FontWeight.Normal
                HoverBorderColor: =ColorValue(varThemeColors.primary)
                HoverColor: =ColorValue(varThemeColors.altText)
                HoverFill: =ColorValue(varThemeColors.tertiary)
                Italic: =varThemeFont.CTA.italic
                LayoutMinHeight: =70
                LayoutMinWidth: =280
                OnSelect: =Back()
                PressedBorderColor: =ColorValue(varThemeColors.primary)
                PressedColor: =ColorValue(varThemeColors.altText)
                PressedFill: =ColorValue(varThemeColors.primary)
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Size: =varThemeFont.CTA.size
                Text: |-
                    =With(
                        {Text: "Back"},
                        If(
                            IsBlank(
                                LookUp(
                                    colUserLocalizedStrings,
                                    'English Value' = Text 
                                ).'Localized Value'
                            ),
                            Text,
                            LookUp(
                                colUserLocalizedStrings,
                                'English Value' = Text 
                            ).'Localized Value'
                        )
                    )
                Width: =Parent.Width/3.3
                X: =199
                Y: =
                ZIndex: =1

            btnsubmit_RatingsScreen As button:
                BorderColor: =ColorValue(varThemeColors.primary)
                BorderThickness: =1
                Color: =ColorValue(varThemeColors.altText)
                DisabledBorderColor: =ColorValue(varThemeColors.backgroundFillDisabled)
                DisabledColor: =ColorValue(varThemeColors.disabledText)
                DisabledFill: =ColorValue(varThemeColors.backgroundFillDisabled)
                DisplayMode: =If(varMissingQuestions>0,DisplayMode.Disabled,DisplayMode.Edit)
                Fill: =ColorValue(varThemeColors.primary)
                FocusedBorderColor: =ColorValue(varThemeColors.info)
                Font: =varThemeFont.CTA.face
                FontWeight: =FontWeight.Normal
                HoverBorderColor: =ColorValue(varThemeColors.primary)
                HoverColor: =ColorValue(varThemeColors.altText)
                HoverFill: =ColorValue(varThemeColors.tertiary)
                Italic: =varThemeFont.CTA.italic
                LayoutMinHeight: =70
                LayoutMinWidth: =280
                OnSelect: |-
                    =//On submit, clear/collect the ratings response collection and navigate to review and submit screen
                    Clear(colRatingResponses);
                    ForAll(galQuestions_RatingsScreen.AllItems,
                    Collect(
                        colRatingResponses,
                        {
                            QuestionId: ThisRecord.'Recognition Scope Question',
                            Rating:rtgRating_RatingsScreen.Value,
                            Question:ThisRecord
                        }
                    )
                    );
                    Navigate('Review and Submit Screen')
                PressedBorderColor: =ColorValue(varThemeColors.primary)
                PressedColor: =ColorValue(varThemeColors.altText)
                PressedFill: =ColorValue(varThemeColors.primary)
                RadiusBottomLeft: =4
                RadiusBottomRight: =4
                RadiusTopLeft: =4
                RadiusTopRight: =4
                Size: =varThemeFont.CTA.size
                Text: |-
                    =With(
                        {Text: "Continue"},
                        If(
                            IsBlank(
                                LookUp(
                                    colUserLocalizedStrings,
                                    'English Value' = Text 
                                ).'Localized Value'
                            ),
                            Text,
                            LookUp(
                                colUserLocalizedStrings,
                                'English Value' = Text 
                            ).'Localized Value'
                        )
                    )
                Width: =Parent.Width/3.3
                X: =1
                Y: =
                ZIndex: =2

    compHeader_RatingsScreen As compHeader:
        HeaderComponentWidth: =Parent.Width
        Height: =compHeader_RatingsScreen.HeaderComponentHeight
        Width: =compHeader_RatingsScreen.HeaderComponentWidth
        ZIndex: =2

