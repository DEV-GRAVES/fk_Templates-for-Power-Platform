"'Data Gateway Screen' As screen":
    LoadingSpinner: =LoadingSpinner.Data
    OnVisible: |-
        =Set(
            varCurrentActivityStepOrder,
            1
        );
        Set(
            varAppActiveScreen,
            App.ActiveScreen
        );
        Reset(CheckboxCanvas3_17);
        Reset(CheckboxCanvas3_23);
        Reset(CheckboxCanvas5_6);
        Reset(CheckboxCanvas5_7);
        Reset(CheckboxCanvas5_8);
        Reset(CheckboxCanvas5_9);
        Reset(CheckboxCanvas5_10);
        With(
            {
                _batchProcessStepValueId: GUID(
                    LookUp(
                        'Activity Step Values',
                        'Control Name' = "InstallBatchProcessIdGatewayConnection"
                    ).Value
                )
            },
            UpdateContext(
                {
                    _batchProcess: LookUp(
                        'Install Template Async Processes',
                        'Install Template Async Process' = _batchProcessStepValueId
                    )
                }
            )
        )

    Container6_13 As groupContainer.horizontalAutoLayoutContainer:
        DropShadow: =DropShadow.None
        Height: =Parent.Height
        LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
        LayoutMode: =LayoutMode.Auto
        RadiusBottomLeft: =0
        RadiusBottomRight: =0
        RadiusTopLeft: =0
        RadiusTopRight: =0
        Width: =Parent.Width
        ZIndex: =4

        cmpLeftNav_15 As LeftNavigation:
            Height: =Parent.Height-2
            LayoutMinHeight: =0
            LayoutMinWidth: =640
            SetExpandMenu: =App.ActiveScreen.Size <= ScreenSize.Medium
            Width: =cmpLeftNav_15.MenuWidth

        conScreenMain_15 As groupContainer.verticalAutoLayoutContainer:
            DropShadow: =DropShadow.Semibold
            Fill: =Color.White
            Height: =Parent.Height
            LayoutAlignItems: =LayoutAlignItems.Stretch
            LayoutDirection: =LayoutDirection.Vertical
            LayoutGap: =10
            LayoutMinHeight: =App.MinScreenHeight
            LayoutMinWidth: =320 - 3*Self.PaddingLeft
            LayoutMode: =LayoutMode.Auto
            LayoutOverflowY: =LayoutOverflow.Scroll
            PaddingBottom: =20
            PaddingLeft: |-
                =Switch(
                    App.ActiveScreen.Size,
                    ScreenSize.ExtraLarge,
                    100,
                    ScreenSize.Large,
                    50,
                    ScreenSize.Medium,
                    25,
                    ScreenSize.Small,
                    12.5
                )
            PaddingRight: =Self.PaddingLeft
            PaddingTop: =20
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Visible: |-
                =If(
                    And(
                        App.ActiveScreen.Size = ScreenSize.Small,
                        Or(
                            varExpandHelp,
                            varExpandMenu
                        )
                    ),
                    false,
                    true
                )
            Width: =cmpHelpAssistant_15.X-Self.X
            X: =cmpLeftNav_15.Width
            ZIndex: =2

            Header_14 As Header:
                LayoutMinHeight: =640
                LayoutMinWidth: =0

            ProgressBar_11 As ProgressBar:
                LayoutMinHeight: =640
                LayoutMinWidth: =0
                ZIndex: =2

            Container1_22 As groupContainer.verticalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                DropShadow: =DropShadow.None
                LayoutAlignItems: =LayoutAlignItems.Stretch
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                LayoutOverflowY: =LayoutOverflow.Scroll
                Visible: =CurrentActivityStep.'Step Name' = "Data Gateway Overview"
                ZIndex: =3

                HtmlText2_41 As htmlViewer:
                    AutoHeight: =true
                    DisabledBorderColor: =RGBA(56, 56, 56, 1)
                    Font: =Font.'Segoe UI'
                    HtmlText: =CurrentActivityStep.Summary
                    ZIndex: =1

                Image3 As image:
                    FillPortions: =1
                    Height: =Self.Width
                    Image: ='opdg-connect'
                    Width: =400
                    ZIndex: =2

            Container1_55 As groupContainer.verticalAutoLayoutContainer:
                DropShadow: =DropShadow.None
                LayoutAlignItems: =LayoutAlignItems.Stretch
                LayoutDirection: =LayoutDirection.Vertical
                LayoutGap: =10
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                LayoutOverflowY: =LayoutOverflow.Scroll
                Visible: =CurrentActivityStep.'Step Name' = "Microsoft .NET Framework"
                ZIndex: =4

                HtmlText2_42 As htmlViewer:
                    AutoHeight: =true
                    DisabledBorderColor: =RGBA(56, 56, 56, 1)
                    Font: =Font.'Segoe UI'
                    HtmlText: =CurrentActivityStep.Summary
                    ZIndex: =1

                TextCanvas1_63 As Text:
                    AutoHeight: =true
                    BorderColor: =
                    BorderStyle: =""
                    DisplayMode: =DisplayMode.Edit
                    Fill: =
                    Font: =""
                    FontColor: =
                    FontItalic: =false
                    FontStrikethrough: =false
                    FontUnderline: =false
                    Height: =32
                    LayoutMinHeight: =32
                    LayoutMinWidth: =96
                    Text: ="Step 1 ---"
                    VerticalAlign: ='TextCanvas.VerticalAlign'.Top
                    Visible: =true
                    Weight: ='TextCanvas.Weight'.Semibold
                    Width: =250
                    X: =0
                    Y: =0
                    ZIndex: =4

                Container12_34 As groupContainer.horizontalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    DropShadow: =DropShadow.None
                    FillPortions: =0
                    Height: |-
                        =With(
                            {_baseHeight: 40},
                            Switch(
                                true,
                                Self.Width <= 520,
                                _baseHeight * 2 + Self.LayoutGap,
                                Self.Width <= 680,
                                _baseHeight * 1.5,
                                _baseHeight
                            )
                        )
                    LayoutAlignItems: =LayoutAlignItems.Stretch
                    LayoutGap: =20
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    LayoutWrap: =true
                    PaddingRight: =10
                    ZIndex: =5

                    LinkCanvas1_10 As Link:
                        Appearance: ="Default"
                        BasePaletteColor: =
                        BorderColor: =
                        BorderStyle: =""
                        DisplayMode: =DisplayMode.Edit
                        Fill: =
                        FillPortions: =2
                        Font: =""
                        FontItalic: =false
                        FontStrikethrough: =false
                        FontUnderline: =false
                        FontWeight: =""
                        Height: =40
                        LayoutMinHeight: =32
                        LayoutMinWidth: =160
                        Text: ="Check the most recent .NET Framework version system requirement"
                        URL: |-
                            ="https://aka.ms/LearnOnPremisesDataGatewayDownload"
                        Width: =320
                        X: =0
                        Y: =0
                        ZIndex: =3

                    CheckboxCanvas3_17 As Checkbox:
                        AccessibleLabel: ="Confirmed .NET Framework version required"
                        BasePaletteColor: =
                        CheckboxSize: =16
                        Checked: |-
                            =If(
                                LookUp(
                                    'Activity Step Values',
                                    'Control Name' = "CheckboxCanvas3_17"
                                ).Value = "true",
                                true,
                                false
                            )
                        DisplayMode: |-
                            =If(
                                varDisableControls,
                                DisplayMode.Disabled,
                                DisplayMode.Edit
                            )
                        FillPortions: =2
                        Font: =""
                        FontColor: =
                        FontItalic: =false
                        FontStrikethrough: =false
                        FontUnderline: =false
                        FontWeight: =""
                        Height: =40
                        Label: ="Confirmed .NET Framework version required"
                        LayoutMinHeight: =32
                        LayoutMinWidth: =160
                        OnCheck: =
                        OnSelect: =
                        OnUncheck: =
                        Width: =300
                        X: =0
                        Y: =0
                        ZIndex: =4

                TextCanvas1_64 As Text:
                    AutoHeight: =true
                    BorderColor: =
                    BorderStyle: =""
                    DisplayMode: =DisplayMode.Edit
                    Fill: =
                    Font: =""
                    FontColor: =
                    FontItalic: =false
                    FontStrikethrough: =false
                    FontUnderline: =false
                    Height: =32
                    LayoutMinHeight: =32
                    LayoutMinWidth: =96
                    Text: ="Step 2 ---"
                    VerticalAlign: ='TextCanvas.VerticalAlign'.Top
                    Visible: =true
                    Weight: ='TextCanvas.Weight'.Semibold
                    Width: =250
                    X: =0
                    Y: =0
                    ZIndex: =6

                Container12_35 As groupContainer.horizontalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    DropShadow: =DropShadow.None
                    FillPortions: =0
                    Height: |-
                        =With(
                            {_baseHeight: 40},
                            Switch(
                                true,
                                Self.Width <= 520,
                                _baseHeight * 2.5 + Self.LayoutGap,
                                Self.Width <= 680,
                                _baseHeight * 1.5,
                                _baseHeight
                            )
                        )
                    LayoutAlignItems: =LayoutAlignItems.Stretch
                    LayoutGap: =20
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    LayoutWrap: =true
                    PaddingRight: =10
                    ZIndex: =7

                    LinkCanvas1_11 As Link:
                        Appearance: ="Default"
                        BasePaletteColor: =
                        BorderColor: =
                        BorderStyle: =""
                        DisplayMode: =DisplayMode.Edit
                        Fill: =
                        FillPortions: =2
                        Font: =""
                        FontItalic: =false
                        FontStrikethrough: =false
                        FontUnderline: =false
                        FontWeight: =""
                        Height: =40
                        LayoutMinHeight: =32
                        LayoutMinWidth: =160
                        Text: ="Download and install .NET Framework required"
                        URL: |-
                            ="https://aka.ms/LearnDownloadMSDotNetFramework"
                        Width: =320
                        X: =0
                        Y: =0
                        ZIndex: =3

                    CheckboxCanvas3_23 As Checkbox:
                        AccessibleLabel: ="Confirmed latest version of .NET Framework installed on Windows Virtual Machine (VM)"
                        BasePaletteColor: =
                        CheckboxSize: =16
                        Checked: |-
                            =If(
                                LookUp(
                                    'Activity Step Values',
                                    'Control Name' = "CheckboxCanvas3_23"
                                ).Value = "true",
                                true,
                                false
                            )
                        DisplayMode: |-
                            =If(
                                varDisableControls,
                                DisplayMode.Disabled,
                                DisplayMode.Edit
                            )
                        FillPortions: =2
                        Font: =""
                        FontColor: =
                        FontItalic: =false
                        FontStrikethrough: =false
                        FontUnderline: =false
                        FontWeight: =""
                        Height: =40
                        Label: ="Confirmed latest version of .NET Framework installed on Windows Virtual Machine (VM)"
                        LayoutMinHeight: =32
                        LayoutMinWidth: =160
                        OnCheck: =
                        OnSelect: =
                        OnUncheck: =
                        Width: =300
                        X: =0
                        Y: =0
                        ZIndex: =4

            Container1_34 As groupContainer.verticalAutoLayoutContainer:
                DropShadow: =DropShadow.None
                LayoutAlignItems: =LayoutAlignItems.Stretch
                LayoutDirection: =LayoutDirection.Vertical
                LayoutGap: =10
                LayoutMinHeight: =100
                LayoutMinWidth: =0
                LayoutMode: =LayoutMode.Auto
                LayoutOverflowY: =LayoutOverflow.Scroll
                Visible: =CurrentActivityStep.'Step Name' = "Install Gateway"
                Width: =0
                ZIndex: =5

                HtmlText2_45 As htmlViewer:
                    AutoHeight: =true
                    DisabledBorderColor: =RGBA(56, 56, 56, 1)
                    Font: =Font.'Segoe UI'
                    HtmlText: =CurrentActivityStep.Summary
                    ZIndex: =1

                ButtonCanvas1_2 As Button:
                    AccessibleLabel: ="Download gateway"
                    Align: =""
                    AlignInContainer: =AlignInContainer.Start
                    BasePaletteColor: =
                    BorderColor: =
                    BorderStyle: =""
                    DisplayMode: |-
                        =If(
                           varDisableControls,
                            DisplayMode.Disabled,
                            DisplayMode.Edit
                        )
                    Font: =""
                    FontColor: =
                    FontItalic: =false
                    FontStrikethrough: =false
                    FontUnderline: =false
                    FontWeight: =""
                    Height: =32
                    Icon: =""
                    IconRotation: =0
                    IconStyle: ="Outline"
                    Layout: ="Icon before"
                    LayoutMinHeight: =32
                    LayoutMinWidth: =96
                    OnSelect: |-
                        =Launch("https://aka.ms/LearnOnPremisesDataGatewayDownload")
                    Text: ="Download gateway"
                    VerticalAlign: =""
                    Visible: =true
                    Width: =150
                    X: =0
                    Y: =0
                    ZIndex: =5

                CheckboxCanvas5_6 As Checkbox:
                    AccessibleLabel: ="Confirmed on-premises data gateway has been installed"
                    AlignInContainer: =AlignInContainer.Stretch
                    BasePaletteColor: =
                    CheckboxSize: =16
                    Checked: |-
                        =With(
                            {
                                _stepValue: LookUp(
                                    'Activity Step Values',
                                    'Control Name' = "CheckboxCanvas5_6"
                                ).Value
                            },
                            If(_stepValue = "true",true,false)
                        )
                    DisplayMode: |-
                        =If(
                            varDisableControls,
                            DisplayMode.Disabled,
                            DisplayMode.Edit
                        )
                    Font: =""
                    FontColor: =
                    FontItalic: =false
                    FontStrikethrough: =false
                    FontUnderline: =false
                    FontWeight: =""
                    Height: =40
                    Label: ="Confirmed on-premises data gateway has been installed"
                    LayoutMinHeight: =32
                    LayoutMinWidth: =160
                    OnCheck: =false
                    OnUncheck: =false
                    Width: =160
                    X: =40
                    Y: =40
                    ZIndex: =13

            Container1_56 As groupContainer.verticalAutoLayoutContainer:
                DropShadow: =DropShadow.None
                LayoutAlignItems: =LayoutAlignItems.Stretch
                LayoutDirection: =LayoutDirection.Vertical
                LayoutGap: =10
                LayoutMinHeight: =100
                LayoutMinWidth: =0
                LayoutMode: =LayoutMode.Auto
                LayoutOverflowY: =LayoutOverflow.Scroll
                Visible: =CurrentActivityStep.'Step Name' = "Install C++"
                Width: =0
                ZIndex: =6

                HtmlText2_46 As htmlViewer:
                    AutoHeight: =true
                    DisabledBorderColor: =RGBA(56, 56, 56, 1)
                    Font: =Font.'Segoe UI'
                    HtmlText: =CurrentActivityStep.Summary
                    ZIndex: =1

                ButtonCanvas1_3 As Button:
                    AccessibleLabel: ="Microsoft Visual C++ redistributable downloads"
                    Align: =""
                    AlignInContainer: =AlignInContainer.Start
                    BasePaletteColor: =
                    BorderColor: =
                    BorderStyle: =""
                    DisplayMode: |-
                        =If(
                           varDisableControls,
                            DisplayMode.Disabled,
                            DisplayMode.Edit
                        )
                    Font: =""
                    FontColor: =
                    FontItalic: =false
                    FontStrikethrough: =false
                    FontUnderline: =false
                    FontWeight: =""
                    Height: =32
                    Icon: =""
                    IconRotation: =0
                    IconStyle: ="Outline"
                    Layout: ="Icon before"
                    LayoutMinHeight: =32
                    LayoutMinWidth: =96
                    OnSelect: |-
                        =Launch("https://aka.ms/LearnCPlusPlusLatestSupportedDownloads")
                    Text: ="Microsoft Visual C++ redistributable downloads"
                    VerticalAlign: =""
                    Visible: =true
                    Width: =350
                    X: =0
                    Y: =0
                    ZIndex: =5

                CheckboxCanvas5_7 As Checkbox:
                    AccessibleLabel: ="Confirmed latest Microsoft C++ DLL's installed"
                    AlignInContainer: =AlignInContainer.Stretch
                    BasePaletteColor: =
                    CheckboxSize: =16
                    Checked: |-
                        =With(
                            {
                                _stepValue: LookUp(
                                    'Activity Step Values',
                                    'Control Name' = "CheckboxCanvas5_7"
                                ).Value
                            },
                            If(_stepValue = "true",true,false)
                        )
                    DisplayMode: |-
                        =If(
                            varDisableControls,
                            DisplayMode.Disabled,
                            DisplayMode.Edit
                        )
                    Font: =""
                    FontColor: =
                    FontItalic: =false
                    FontStrikethrough: =false
                    FontUnderline: =false
                    FontWeight: =""
                    Height: =40
                    Label: ="Confirmed latest Microsoft C++ DLL's installed"
                    LayoutMinHeight: =32
                    LayoutMinWidth: =160
                    OnCheck: =false
                    OnUncheck: =false
                    Width: =160
                    X: =40
                    Y: =40
                    ZIndex: =13

            Container1_57 As groupContainer.verticalAutoLayoutContainer:
                DropShadow: =DropShadow.None
                LayoutAlignItems: =LayoutAlignItems.Stretch
                LayoutDirection: =LayoutDirection.Vertical
                LayoutGap: =10
                LayoutMinHeight: =100
                LayoutMinWidth: =0
                LayoutMode: =LayoutMode.Auto
                LayoutOverflowY: =LayoutOverflow.Scroll
                Visible: =CurrentActivityStep.'Step Name' = "Install SAP Connector"
                Width: =0
                ZIndex: =7

                HtmlText2_47 As htmlViewer:
                    AutoHeight: =true
                    DisabledBorderColor: =RGBA(56, 56, 56, 1)
                    Font: =Font.'Segoe UI'
                    HtmlText: =CurrentActivityStep.Summary
                    ZIndex: =1

                ButtonCanvas1_4 As Button:
                    AccessibleLabel: ="Download SAP Connector for Microsoft .NET"
                    Align: =""
                    AlignInContainer: =AlignInContainer.Start
                    BasePaletteColor: =
                    BorderColor: =
                    BorderStyle: =""
                    DisplayMode: |-
                        =If(
                           varDisableControls,
                            DisplayMode.Disabled,
                            DisplayMode.Edit
                        )
                    Font: =""
                    FontColor: =
                    FontItalic: =false
                    FontStrikethrough: =false
                    FontUnderline: =false
                    FontWeight: =""
                    Height: =32
                    Icon: =""
                    IconRotation: =0
                    IconStyle: ="Outline"
                    Layout: ="Icon before"
                    LayoutMinHeight: =32
                    LayoutMinWidth: =96
                    OnSelect: |-
                        =Launch("https://aka.ms/LearnSAPConnectorForMicrosoft")
                    Text: ="SAP Connector for Microsoft .NET download"
                    VerticalAlign: =""
                    Visible: =true
                    Width: =325
                    X: =0
                    Y: =0
                    ZIndex: =5

                CheckboxCanvas5_8 As Checkbox:
                    AccessibleLabel: ="Confirmed SAP Connector for Microsoft .NET 3.1 is installed"
                    AlignInContainer: =AlignInContainer.Stretch
                    BasePaletteColor: =
                    CheckboxSize: =16
                    Checked: |-
                        =With(
                            {
                                _stepValue: LookUp(
                                    'Activity Step Values',
                                    'Control Name' = "CheckboxCanvas5_8"
                                ).Value
                            },
                            If(_stepValue = "true",true,false)
                        )
                    DisplayMode: |-
                        =If(
                            varDisableControls,
                            DisplayMode.Disabled,
                            DisplayMode.Edit
                        )
                    Font: =""
                    FontColor: =
                    FontItalic: =false
                    FontStrikethrough: =false
                    FontUnderline: =false
                    FontWeight: =""
                    Height: =40
                    Label: ="Confirmed SAP Connector for Microsoft .NET 3.1 is installed"
                    LayoutMinHeight: =32
                    LayoutMinWidth: =160
                    OnCheck: =false
                    OnUncheck: =false
                    Width: =160
                    X: =40
                    Y: =40
                    ZIndex: =13

            Container1_59 As groupContainer.verticalAutoLayoutContainer:
                DropShadow: =DropShadow.None
                LayoutAlignItems: =LayoutAlignItems.Stretch
                LayoutDirection: =LayoutDirection.Vertical
                LayoutGap: =10
                LayoutMinHeight: =100
                LayoutMinWidth: =0
                LayoutMode: =LayoutMode.Auto
                LayoutOverflowY: =LayoutOverflow.Scroll
                Visible: =CurrentActivityStep.'Step Name' = "Cluster Configuration"
                Width: =0
                ZIndex: =8

                HtmlText2_48 As htmlViewer:
                    AutoHeight: =true
                    DisabledBorderColor: =RGBA(56, 56, 56, 1)
                    Font: =Font.'Segoe UI'
                    HtmlText: =CurrentActivityStep.Summary
                    ZIndex: =1

                ButtonCanvas1_5 As Button:
                    AccessibleLabel: ="Launch managing data gateways"
                    Align: =""
                    AlignInContainer: =AlignInContainer.Start
                    BasePaletteColor: =
                    BorderColor: =
                    BorderStyle: =""
                    DisplayMode: |-
                        =If(
                           varDisableControls,
                            DisplayMode.Disabled,
                            DisplayMode.Edit
                        )
                    Font: =""
                    FontColor: =
                    FontItalic: =false
                    FontStrikethrough: =false
                    FontUnderline: =false
                    FontWeight: =""
                    Height: =32
                    Icon: =""
                    IconRotation: =0
                    IconStyle: ="Outline"
                    Layout: ="Icon before"
                    LayoutMinHeight: =32
                    LayoutMinWidth: =96
                    OnSelect: |-
                        =Launch("https://admin.powerplatform.microsoft.com/ext/DataGateways")
                    Text: ="Launch managing data gateways"
                    VerticalAlign: =""
                    Visible: =true
                    Width: =275
                    X: =0
                    Y: =0
                    ZIndex: =2

                TextCanvas9 As Text:
                    AutoHeight: =true
                    BorderColor: =
                    BorderStyle: =""
                    DisplayMode: =DisplayMode.Edit
                    Fill: =
                    FontColor: =
                    Height: =32
                    LayoutMinHeight: =32
                    LayoutMinWidth: =96
                    Text: ="Underneath 'On-premises data gateways', select the installed gateway settings and confirm distribute requests across all active gateways is not selected."
                    Width: =96
                    X: =0
                    Y: =0
                    ZIndex: =3

                CheckboxCanvas5_9 As Checkbox:
                    AccessibleLabel: ="Confirmed 'Distribute requests across all active gateways in this cluster' setting remains unchecked for installed gateway"
                    AlignInContainer: =AlignInContainer.Stretch
                    BasePaletteColor: =
                    CheckboxSize: =16
                    Checked: |-
                        =With(
                            {
                                _stepValue: LookUp(
                                    'Activity Step Values',
                                    'Control Name' = "CheckboxCanvas5_9"
                                ).Value
                            },
                            If(_stepValue = "true",true,false)
                        )
                    DisplayMode: |-
                        =If(
                            varDisableControls,
                            DisplayMode.Disabled,
                            DisplayMode.Edit
                        )
                    Font: =""
                    FontColor: =
                    FontItalic: =false
                    FontStrikethrough: =false
                    FontUnderline: =false
                    FontWeight: =""
                    Height: =40
                    Label: ="Confirmed 'Distribute requests across all active gateways in this cluster' setting remains unchecked for installed gateway"
                    LayoutMinHeight: =32
                    LayoutMinWidth: =160
                    OnCheck: =false
                    OnUncheck: =false
                    Width: =160
                    X: =40
                    Y: =40
                    ZIndex: =4

            Container1_60 As groupContainer.verticalAutoLayoutContainer:
                DropShadow: =DropShadow.None
                LayoutAlignItems: =LayoutAlignItems.Stretch
                LayoutDirection: =LayoutDirection.Vertical
                LayoutGap: =10
                LayoutMinHeight: =100
                LayoutMinWidth: =0
                LayoutMode: =LayoutMode.Auto
                LayoutOverflowY: =LayoutOverflow.Scroll
                Visible: =CurrentActivityStep.'Step Name' = "Validate Gateway"
                Width: =0
                ZIndex: =9

                HtmlText2_49 As htmlViewer:
                    AutoHeight: =true
                    DisabledBorderColor: =RGBA(56, 56, 56, 1)
                    Font: =Font.'Segoe UI'
                    HtmlText: =CurrentActivityStep.Summary
                    ZIndex: =1

                Container13_2 As groupContainer.horizontalAutoLayoutContainer:
                    DropShadow: =DropShadow.None
                    FillPortions: =0
                    Height: =35
                    LayoutAlignItems: =LayoutAlignItems.Center
                    LayoutGap: =10
                    LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    ZIndex: =2

                    ButtonCanvas1_6 As Button:
                        AccessibleLabel: ="Validate on-premises data gateway setup"
                        Align: =""
                        BasePaletteColor: =
                        BorderColor: =
                        BorderStyle: =""
                        DisplayMode: |-
                            =If(
                               varDisableControls,
                                DisplayMode.Disabled,
                                DisplayMode.Edit
                            )
                        Font: =""
                        FontColor: =
                        FontItalic: =false
                        FontStrikethrough: =false
                        FontUnderline: =false
                        FontWeight: =""
                        Height: =32
                        Icon: =""
                        IconRotation: =0
                        IconStyle: ="Outline"
                        Layout: ="Icon before"
                        LayoutMinHeight: =32
                        LayoutMinWidth: =96
                        OnSelect: |-
                            =
                            
                            Launch(
                            
                                LookUp(
                                    PowerShellScripts,
                                    FileName="SetupAssistantSAPValidateGateway"
                                ).Link
                            )
                        Text: ="Validate on-premises data gateway setup"
                        VerticalAlign: =""
                        Visible: =false
                        Width: =300
                        X: =0
                        Y: =0
                        ZIndex: =1

                    Spinner1_2 As Spinner:
                        AccessibleLabel: ="Processing icon"
                        AlignInContainer: =AlignInContainer.Stretch
                        Appearance: ='Spinner.Appearance'.Primary
                        BasePaletteColor: =
                        DisplayMode: =DisplayMode.Edit
                        Font: =""
                        FontColor: =
                        FontItalic: =true
                        FontSize: =12
                        FontStrikethrough: =false
                        FontUnderline: =false
                        FontWeight: =""
                        Height: =Parent.Height
                        Label: ="Validating..."
                        LabelPosition: ='Spinner.LabelPosition'.Before
                        LayoutMinWidth: =50
                        SpinnerColor: =
                        SpinnerSize: ='Spinner.SpinnerSize'.Tiny
                        TrackColor: =
                        Visible: =false
                        Width: =150
                        X: =0
                        Y: =0
                        ZIndex: =2

                TextCanvas15_1 As Text:
                    AutoHeight: =true
                    BorderColor: =
                    BorderStyle: =""
                    DisplayMode: =DisplayMode.Edit
                    Fill: =
                    FontColor: =
                    FontItalic: =true
                    Height: =32
                    LayoutMinHeight: =32
                    LayoutMinWidth: =96
                    Text: |-
                        =Switch(
                            _batchProcess.'Batch Status',
                            'Batch Status (Install Template Async Processes)'.Completed,
                            "Validation process completed at " & Text(
                                _batchProcess.'Completed On',
                                DateTimeFormat.LongDateTime
                            ),
                            'Batch Status (Install Template Async Processes)'.'In Progress',
                            "Validation process started on " & Text(
                                _batchProcess.'Started On',
                                DateTimeFormat.LongDateTime
                            ),
                            'Batch Status (Install Template Async Processes)'.'Not Started',
                            "Validation process submitted on " & Text(
                                _batchProcess.'Created On',
                                DateTimeFormat.LongDateTime
                            )
                        )
                    Visible: =false
                    Width: =96
                    X: =0
                    Y: =0
                    ZIndex: =3

                CheckboxCanvas5_10 As Checkbox:
                    AccessibleLabel: ="Confirmed data gateway setup steps completed."
                    AlignInContainer: =AlignInContainer.Stretch
                    BasePaletteColor: =
                    CheckboxSize: =16
                    Checked: |-
                        =With(
                            {
                                _stepValue: LookUp(
                                    'Activity Step Values',
                                    'Control Name' = "CheckboxCanvas5_10"
                                ).Value
                            },
                            If(_stepValue = "true",true,false)
                        )
                    DisplayMode: |-
                        =If(
                            varDisableControls,
                            DisplayMode.Disabled,
                            DisplayMode.Edit
                        )
                    Font: =""
                    FontColor: =
                    FontItalic: =false
                    FontStrikethrough: =false
                    FontUnderline: =false
                    FontWeight: =""
                    Height: =40
                    Label: ="Confirmed data gateway setup steps completed."
                    LayoutMinHeight: =32
                    LayoutMinWidth: =160
                    OnCheck: =false
                    OnUncheck: =false
                    Width: =160
                    X: =40
                    Y: =40
                    ZIndex: =4

                Gallery1_2 As gallery.variableTemplateHeightGallery:
                    '#CopilotOverlayLabel': ="Filtered"
                    AccessibleLabel: ="List of gateway check status messages"
                    BorderColor: =RGBA(0, 0, 0, 1)
                    DelayItemLoading: =true
                    FocusedBorderThickness: =2
                    Height: =
                    ItemAccessibleLabel: =Text(ThisItem.Value.step)
                    Items: |-
                        =If(
                            !IsBlank(_batchProcess),
                            IfError(
                                Table(
                                    ParseJSON(
                                        First(
                                            Filter(
                                                'Install Template Async Process Items',
                                                'Install Template Async Process'.'Install Template Async Process' = _batchProcess.'Install Template Async Process'
                                            )
                                        ).'Additional Information'
                                    )
                                ),
                                Table(
                                    ParseJSON(
                                        (JSON(
                                            Table(
                                                {
                                                    step: "Unknown",
                                                    message: "Unable to parse message",
                                                    status: "Error"
                                                }
                                            )
                                        ) )
                                    )
                                )
                            )
                        )
                    Layout: =Layout.Vertical
                    LayoutMinHeight: =287
                    LayoutMinWidth: =320
                    LoadingSpinner: =LoadingSpinner.Data
                    TabIndex: =0
                    TemplateSize: =280
                    Visible: =false
                    ZIndex: =5

                    TextCanvas2_6 As Text:
                        AutoHeight: =true
                        BorderColor: =
                        BorderStyle: =""
                        DisplayMode: =DisplayMode.Edit
                        Fill: =
                        FontColor: =
                        FontItalic: =true
                        Height: =32
                        Size: =12
                        Text: =Text(ThisItem.Value.message)
                        VerticalAlign: ='TextCanvas.VerticalAlign'.Middle
                        Weight: ='TextCanvas.Weight'.Medium
                        Width: =Icon2_17.X-10
                        X: =0
                        Y: =TextCanvas2_4.Height+TextCanvas2_4.Y
                        ZIndex: =1

                    Icon2_17 As icon.CheckBadge:
                        AccessibleLabel: =Text(ThisItem.Value.Status)
                        Color: |-
                            =Switch(
                                Self.Icon,
                                Icon.CheckBadge,
                                RGBA(
                                    54,
                                    176,
                                    75,
                                    1
                                ),
                                Icon.CancelBadge,
                                RGBA(
                                    255,
                                    0,
                                    0,
                                    1
                                ),
                                RGBA(
                                    0,
                                    0,
                                    0,
                                    1
                                )
                            )
                        Height: =22
                        Icon: |-
                            =If(
                                Text(ThisItem.Value.status) = "Success",
                                Icon.CheckBadge,
                                Icon.CancelBadge
                            )
                        OnSelect: =Select(Parent)
                        PaddingBottom: =2
                        PaddingLeft: =2
                        PaddingRight: =2
                        PaddingTop: =2
                        TabIndex: =0
                        Tooltip: =Self.AccessibleLabel
                        Width: =Self.Height
                        X: =Parent.TemplateWidth-Self.Width-10
                        Y: |-
                            =If(
                                IsBlank(TextCanvas2_6.Text),
                                (TextCanvas2_4.Height + TextCanvas2_4.Y - Self.Height + Parent.TemplatePadding),
                                (TextCanvas2_6.Height + TextCanvas2_6.Y - Self.Height + Parent.TemplatePadding) / 2
                            )
                        ZIndex: =3

                    TextCanvas2_4 As Text:
                        BorderColor: =
                        BorderStyle: =""
                        DisplayMode: =DisplayMode.Edit
                        Fill: =
                        FontColor: =
                        Height: =25
                        Text: =Text(ThisItem.Value.step)
                        VerticalAlign: ='TextCanvas.VerticalAlign'.Middle
                        Weight: ='TextCanvas.Weight'.Semibold
                        Width: =Parent.TemplateWidth-(Parent.TemplateWidth-Icon2_17.X)
                        X: =0
                        Y: =1
                        ZIndex: =5

                    Rectangle2_2 As rectangle:
                        Fill: =RGBA(214, 221, 224, 1)
                        Height: =1
                        OnSelect: =Select(Parent)
                        Width: =Parent.TemplateWidth
                        ZIndex: =6

                Timer1_3 As timer:
                    Duration: =10000
                    OnSelect: =
                    OnTimerEnd: |-
                        =Concurrent(
                            Refresh('Install Template Async Processes'),
                            Refresh('Install Template Async Process Items')
                        );
                        UpdateContext(
                            {
                                _batchProcess: LookUp(
                                    'Install Template Async Processes',
                                    'Install Template Async Process' = _batchProcess.'Install Template Async Process'
                                )
                            }
                        );
                        With(
                            {
                                _hasErrors: !IsEmpty(
                                    Filter(
                                        'Install Template Async Process Items',
                                        'Install Template Async Process'.'Install Template Async Process' = _batchProcess.'Install Template Async Process',
                                        'Processing Status' = 'Processing Status (Install Template Async Process Items)'.Error || 'Processing Status' = 'Processing Status (Install Template Async Process Items)'.'In Progress' || 'Processing Status' = 'Processing Status (Install Template Async Process Items)'.Error
                                    )
                                ),
                                _Message: Concat(
                                    Filter(
                                        'Install Template Async Process Items',
                                        'Install Template Async Process'.'Install Template Async Process' = _batchProcess.'Install Template Async Process'
                                    ),
                                    Message,
                                    ","
                                )
                            },
                            Switch(
                                true,
                                _totalDuration >= 5 * 60 * 1000,//"Timeout"
                                Notify(
                                    "The SAP gateway setup validation check is taking longer than expected. Please log directly into Power Automate Desktop to check on the status",
                                    NotificationType.Warning,
                                    0
                                );
                                UpdateContext({_checkBatchStatus: false});
                                Set(
                                    varDisableControls,
                                    false
                                ),//Success
                                And(
                                    _batchProcess.'Batch Status' = 'Batch Status (Install Template Async Processes)'.Completed,
                                    !_hasErrors
                                ),
                                Patch(
                                    'Activity Step Values',
                                    Coalesce(
                                        LookUp(
                                            'Activity Step Values',
                                            'Control Name' = "CheckboxCanvas5_10"
                                        ),
                                        Defaults('Activity Step Values')
                                    ),
                                    {
                                        'Control Name': "CheckboxCanvas5_10",
                                        'Data Type': 'Data Type (Activity Step Values)'.Boolean,
                                        'Activity Step': CurrentActivityStep,
                                        Value: "true"
                                    }
                                );
                                Reset(CheckboxCanvas5_10);
                                UpdateContext({_checkBatchStatus: false});
                                Notify(
                                    _Message,
                                    NotificationType.Success,
                                    5000
                                );
                                Set(
                                    varDisableControls,
                                    false
                                );
                                ,//Failure
                                And(
                                    _batchProcess.'Batch Status' = 'Batch Status (Install Template Async Processes)'.Completed,
                                    _hasErrors
                                ),
                                Notify(
                                    _Message,
                                    NotificationType.Error,
                                    0
                                );
                                UpdateContext({_checkBatchStatus: false});
                                Set(
                                    varDisableControls,
                                    false
                                );
                                ,
                                UpdateContext({_totalDuration: Self.Duration + _totalDuration})
                            )
                        )
                    OnTimerStart: =
                    Repeat: =true
                    Start: =_checkBatchStatus
                    Visible: =false
                    X: =765
                    Y: =60
                    ZIndex: =6

            Container1_58 As groupContainer.verticalAutoLayoutContainer:
                DropShadow: =DropShadow.None
                LayoutAlignItems: =LayoutAlignItems.Stretch
                LayoutDirection: =LayoutDirection.Vertical
                LayoutGap: =10
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                LayoutOverflowY: =LayoutOverflow.Scroll
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Visible: =CurrentActivityStep.'Step Name' = "Review"
                ZIndex: =10

                ReviewCompletionSteps_4 As ReviewCompletionSteps:
                    FillPortions: =1
                    Height: =Parent.Height
                    LayoutMinHeight: =100
                    LayoutMinWidth: =100
                    Width: =Parent.Width
                    ZIndex: =3

            NavigationButtons_14 As NavigationButtons:
                LayoutMinHeight: =640
                LayoutMinWidth: =0
                StepStatus: |-
                    =If(
                        varSkip,
                        'Step Status (Activity Steps)'.Skipped,
                        Switch(
                            true,
                            Container1_22.Visible,
                            'Step Status (Activity Steps)'.Completed,
                            Container1_55.Visible,
                            If(
                                And(
                                    CheckboxCanvas3_17.Checked = true,
                                    CheckboxCanvas3_23.Checked = true
                                ),
                                'Step Status (Activity Steps)'.Completed,
                                'Step Status (Activity Steps)'.Incomplete
                            ),
                            Container1_34.Visible,
                            If(
                                CheckboxCanvas5_6.Checked = true,
                                'Step Status (Activity Steps)'.Completed,
                                'Step Status (Activity Steps)'.Incomplete
                            ),
                            Container1_56.Visible,
                            If(
                                CheckboxCanvas5_7.Checked = true,
                                'Step Status (Activity Steps)'.Completed,
                                'Step Status (Activity Steps)'.Incomplete
                            ),
                            Container1_57.Visible,
                            If(
                                CheckboxCanvas5_8.Checked = true,
                                'Step Status (Activity Steps)'.Completed,
                                'Step Status (Activity Steps)'.Incomplete
                            ),
                            Container1_59.Visible,
                            If(
                                CheckboxCanvas5_9.Checked = true,
                                'Step Status (Activity Steps)'.Completed,
                                'Step Status (Activity Steps)'.Incomplete
                            ),
                            Container1_60.Visible,
                            If(
                                CheckboxCanvas5_10.Checked = true,
                                'Step Status (Activity Steps)'.Completed,
                                'Step Status (Activity Steps)'.Incomplete
                            )
                        )
                    )
                StepValues: |-
                    =Switch(
                        true,
                        Container1_55.Visible,
                        Table(
                            {
                                Control: "CheckboxCanvas3_17",
                                Value: Text(CheckboxCanvas3_17.Checked),
                                Type: 'Data Type (Activity Step Values)'.Boolean
                            },
                            {
                                Control: "CheckboxCanvas3_23",
                                Value: Text(CheckboxCanvas3_23.Checked),
                                Type: 'Data Type (Activity Step Values)'.Boolean
                            }
                        ),
                        Container1_34.Visible,
                        Table(
                            {
                                Control: "CheckboxCanvas5_6",
                                Value: Text(CheckboxCanvas5_6.Checked),
                                Type: 'Data Type (Activity Step Values)'.Boolean
                            }
                        ),
                        Container1_56.Visible,
                        Table(
                            {
                                Control: "CheckboxCanvas5_7",
                                Value: Text(CheckboxCanvas5_7.Checked),
                                Type: 'Data Type (Activity Step Values)'.Boolean
                            }
                        ),
                        Container1_57.Visible,
                        Table(
                            {
                                Control: "CheckboxCanvas5_8",
                                Value: Text(CheckboxCanvas5_8.Checked),
                                Type: 'Data Type (Activity Step Values)'.Boolean
                            }
                        ),
                        Container1_59.Visible,
                        Table(
                            {
                                Control: "CheckboxCanvas5_9",
                                Value: Text(CheckboxCanvas5_9.Checked),
                                Type: 'Data Type (Activity Step Values)'.Boolean
                            }
                        ),Container1_60.Visible,
                        Table(
                            {
                                Control: "CheckboxCanvas5_10",
                                Value: Text(CheckboxCanvas5_10.Checked),
                                Type: 'Data Type (Activity Step Values)'.Boolean
                            },{
                                Control: "InstallBatchProcessIdGatewayConnection",
                                Value: Text(_batchProcess.'Install Template Async Process'),
                                Type: 'Data Type (Activity Step Values)'.String
                            }
                        )
                    )
                ZIndex: =11

        "icoConMainScreenExpand_13 As icon.'3DPrinting'":
            AccessibleLabel: ="Expand step detail"
            AlignInContainer: =AlignInContainer.Start
            BorderColor: =RGBA(0,0,0,0)
            Color: =Color.Black
            DisabledBorderColor: |-
                =ColorValue("#A19F9D")
            DisabledColor: |-
                =ColorValue("#F3F2F1")
            DisabledFill: =RGBA(0,0,0,0)
            DisplayMode: |-
                =If(
                    varDisableControls,
                    DisplayMode.Disabled,
                    DisplayMode.Edit
                )
            Fill: =RGBA(0,0,0,0)
            FocusedBorderColor: |-
                =ColorValue("#605E5C")
            Height: =48
            HoverBorderColor: =
            HoverColor: |-
                =ColorValue("#8A8886")
            HoverFill: =RGBA(0,0,0,0)
            Icon: =Icon.ListScrollEmpty
            OnSelect: |-
                =Set(
                    varExpandHelp,
                    false
                );
                Set(
                    varExpandMenu,
                    false
                )
            PaddingBottom: =10
            PaddingLeft: =12
            PaddingRight: =12
            PaddingTop: =10
            PressedBorderColor: =
            PressedColor: |-
                =ColorValue("#8A8886")
            PressedFill: =RGBA(0,0,0,0)
            TabIndex: =0
            Tooltip: ="Expand step detail"
            Visible: |-
                =And(
                    App.ActiveScreen.Size = ScreenSize.Small,
                    Or(
                        varExpandHelp,
                        varExpandMenu
                    )
                )
            Width: =48
            X: =Self.FocusedBorderThickness
            ZIndex: =3

        cmpHelpAssistant_15 As HelpResources:
            Height: =Parent.Height
            LayoutMinHeight: =0
            LayoutMinWidth: =640
            SetExpandHelp: =App.ActiveScreen.Size <= ScreenSize.Medium
            Width: =cmpHelpAssistant_15.HelpResourcesWidth
            X: =Parent.Width-Self.Width
            ZIndex: =4

